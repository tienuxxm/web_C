{"ast":null,"code":"var _jsxFileName = \"E:\\\\WebBitex\\\\order-purchasing\\\\src\\\\pages\\\\Purchasing\\\\ApproveOrders\\\\MultiSelectWithCheckboxAndSelectAll.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Select, { components } from 'react-select';\n\n// Danh sách options gốc\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst rawOptions = [{\n  value: 'admin',\n  label: 'Administrator'\n}, {\n  value: 'sales',\n  label: 'Sales'\n}, {\n  value: 'approver',\n  label: 'Approver'\n}, {\n  value: 'viewer',\n  label: 'Viewer'\n}];\n\n// Thêm \"Chọn tất cả\" vào đầu danh sách\nconst getOptionsWithSelectAll = options => [{\n  value: '*',\n  label: 'Chọn tất cả'\n}, ...options];\n\n// Custom Option để hiển thị checkbox\nconst Option = props => {\n  const {\n    data,\n    isSelected\n  } = props;\n  return /*#__PURE__*/_jsxDEV(components.Option, {\n    ...props,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"checkbox\",\n      checked: isSelected,\n      onChange: () => null,\n      style: {\n        marginRight: 8\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: data.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n};\n_c = Option;\nconst MultiSelectWithCheckboxAndSelectAll = () => {\n  _s();\n  const [selectedOptions, setSelectedOptions] = useState([]);\n  const allOptions = getOptionsWithSelectAll(rawOptions);\n  const isAllSelected = selectedOptions.length === rawOptions.length;\n  const handleChange = selected => {\n    if (!selected) {\n      setSelectedOptions([]);\n      return;\n    }\n    const latest = selected[selected.length - 1];\n    if ((latest === null || latest === void 0 ? void 0 : latest.value) === '*') {\n      if (isAllSelected) {\n        setSelectedOptions([]);\n      } else {\n        setSelectedOptions(rawOptions);\n      }\n    } else {\n      const filtered = selected.filter(opt => opt.value !== '*');\n      setSelectedOptions(filtered);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: 350\n    },\n    children: /*#__PURE__*/_jsxDEV(Select, {\n      options: allOptions,\n      isMulti: true,\n      closeMenuOnSelect: false,\n      hideSelectedOptions: false,\n      components: {\n        Option\n      },\n      onChange: handleChange,\n      value: selectedOptions,\n      placeholder: \"Ch\\u1ECDn vai tr\\xF2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(MultiSelectWithCheckboxAndSelectAll, \"S24nRharoliKpDmkOrz7zqRL0rI=\");\n_c2 = MultiSelectWithCheckboxAndSelectAll;\nexport default MultiSelectWithCheckboxAndSelectAll;\nvar _c, _c2;\n$RefreshReg$(_c, \"Option\");\n$RefreshReg$(_c2, \"MultiSelectWithCheckboxAndSelectAll\");","map":{"version":3,"names":["React","useState","Select","components","rawOptions","value","label","getOptionsWithSelectAll","options","Option","props","data","isSelected","marginRight","MultiSelectWithCheckboxAndSelectAll","selectedOptions","setSelectedOptions","allOptions","isAllSelected","length","handleChange","selected","latest","filtered","filter","opt","width"],"sources":["E:/WebBitex/order-purchasing/src/pages/Purchasing/ApproveOrders/MultiSelectWithCheckboxAndSelectAll.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Select, { components } from 'react-select';\r\n\r\n// Danh sách options gốc\r\nconst rawOptions = [\r\n  { value: 'admin', label: 'Administrator' },\r\n  { value: 'sales', label: 'Sales' },\r\n  { value: 'approver', label: 'Approver' },\r\n  { value: 'viewer', label: 'Viewer' }\r\n];\r\n\r\n// Thêm \"Chọn tất cả\" vào đầu danh sách\r\nconst getOptionsWithSelectAll = (options) => [\r\n  { value: '*', label: 'Chọn tất cả' },\r\n  ...options\r\n];\r\n\r\n// Custom Option để hiển thị checkbox\r\nconst Option = (props) => {\r\n  const { data, isSelected } = props;\r\n  return (\r\n    <components.Option {...props}>\r\n      <input\r\n        type=\"checkbox\"\r\n        checked={isSelected}\r\n        onChange={() => null}\r\n        style={{ marginRight: 8 }}\r\n      />\r\n      <label>{data.label}</label>\r\n    </components.Option>\r\n  );\r\n};\r\n\r\nconst MultiSelectWithCheckboxAndSelectAll = () => {\r\n  const [selectedOptions, setSelectedOptions] = useState([]);\r\n  const allOptions = getOptionsWithSelectAll(rawOptions);\r\n\r\n  const isAllSelected = selectedOptions.length === rawOptions.length;\r\n\r\n  const handleChange = (selected) => {\r\n    if (!selected) {\r\n      setSelectedOptions([]);\r\n      return;\r\n    }\r\n\r\n    const latest = selected[selected.length - 1];\r\n\r\n    if (latest?.value === '*') {\r\n      if (isAllSelected) {\r\n        setSelectedOptions([]);\r\n      } else {\r\n        setSelectedOptions(rawOptions);\r\n      }\r\n    } else {\r\n      const filtered = selected.filter((opt) => opt.value !== '*');\r\n      setSelectedOptions(filtered);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: 350 }}>\r\n      <Select\r\n        options={allOptions}\r\n        isMulti\r\n        closeMenuOnSelect={false}\r\n        hideSelectedOptions={false}\r\n        components={{ Option }}\r\n        onChange={handleChange}\r\n        value={selectedOptions}\r\n        placeholder=\"Chọn vai trò\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MultiSelectWithCheckboxAndSelectAll;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,MAAM,IAAIC,UAAU,QAAQ,cAAc;;AAEjD;AAAA;AACA,MAAMC,UAAU,GAAG,CACjB;EAAEC,KAAK,EAAE,OAAO;EAAEC,KAAK,EAAE;AAAgB,CAAC,EAC1C;EAAED,KAAK,EAAE,OAAO;EAAEC,KAAK,EAAE;AAAQ,CAAC,EAClC;EAAED,KAAK,EAAE,UAAU;EAAEC,KAAK,EAAE;AAAW,CAAC,EACxC;EAAED,KAAK,EAAE,QAAQ;EAAEC,KAAK,EAAE;AAAS,CAAC,CACrC;;AAED;AACA,MAAMC,uBAAuB,GAAIC,OAAO,IAAK,CAC3C;EAAEH,KAAK,EAAE,GAAG;EAAEC,KAAK,EAAE;AAAc,CAAC,EACpC,GAAGE,OAAO,CACX;;AAED;AACA,MAAMC,MAAM,GAAIC,KAAK,IAAK;EACxB,MAAM;IAAEC,IAAI;IAAEC;EAAW,CAAC,GAAGF,KAAK;EAClC,oBACE,QAAC,UAAU,CAAC,MAAM;IAAA,GAAKA,KAAK;IAAA,wBAC1B;MACE,IAAI,EAAC,UAAU;MACf,OAAO,EAAEE,UAAW;MACpB,QAAQ,EAAE,MAAM,IAAK;MACrB,KAAK,EAAE;QAAEC,WAAW,EAAE;MAAE;IAAE;MAAA;MAAA;MAAA;IAAA,QAC1B,eACF;MAAA,UAAQF,IAAI,CAACL;IAAK;MAAA;MAAA;MAAA;IAAA,QAAS;EAAA;IAAA;IAAA;IAAA;EAAA,QACT;AAExB,CAAC;AAAC,KAbIG,MAAM;AAeZ,MAAMK,mCAAmC,GAAG,MAAM;EAAA;EAChD,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAMgB,UAAU,GAAGV,uBAAuB,CAACH,UAAU,CAAC;EAEtD,MAAMc,aAAa,GAAGH,eAAe,CAACI,MAAM,KAAKf,UAAU,CAACe,MAAM;EAElE,MAAMC,YAAY,GAAIC,QAAQ,IAAK;IACjC,IAAI,CAACA,QAAQ,EAAE;MACbL,kBAAkB,CAAC,EAAE,CAAC;MACtB;IACF;IAEA,MAAMM,MAAM,GAAGD,QAAQ,CAACA,QAAQ,CAACF,MAAM,GAAG,CAAC,CAAC;IAE5C,IAAI,CAAAG,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEjB,KAAK,MAAK,GAAG,EAAE;MACzB,IAAIa,aAAa,EAAE;QACjBF,kBAAkB,CAAC,EAAE,CAAC;MACxB,CAAC,MAAM;QACLA,kBAAkB,CAACZ,UAAU,CAAC;MAChC;IACF,CAAC,MAAM;MACL,MAAMmB,QAAQ,GAAGF,QAAQ,CAACG,MAAM,CAAEC,GAAG,IAAKA,GAAG,CAACpB,KAAK,KAAK,GAAG,CAAC;MAC5DW,kBAAkB,CAACO,QAAQ,CAAC;IAC9B;EACF,CAAC;EAED,oBACE;IAAK,KAAK,EAAE;MAAEG,KAAK,EAAE;IAAI,CAAE;IAAA,uBACzB,QAAC,MAAM;MACL,OAAO,EAAET,UAAW;MACpB,OAAO;MACP,iBAAiB,EAAE,KAAM;MACzB,mBAAmB,EAAE,KAAM;MAC3B,UAAU,EAAE;QAAER;MAAO,CAAE;MACvB,QAAQ,EAAEW,YAAa;MACvB,KAAK,EAAEL,eAAgB;MACvB,WAAW,EAAC;IAAc;MAAA;MAAA;MAAA;IAAA;EAC1B;IAAA;IAAA;IAAA;EAAA,QACE;AAEV,CAAC;AAAC,GAxCID,mCAAmC;AAAA,MAAnCA,mCAAmC;AA0CzC,eAAeA,mCAAmC;AAAC;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}