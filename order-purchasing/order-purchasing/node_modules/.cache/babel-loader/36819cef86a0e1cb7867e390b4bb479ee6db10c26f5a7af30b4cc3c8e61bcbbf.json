{"ast":null,"code":"import _slicedToArray from\"E:/WebBitex/order-purchasing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{Link}from\"react-router-dom\";import{useSelector,useDispatch}from'react-redux';import{Sidebar}from'primereact/sidebar';import{Button}from'primereact/button';import{useNavigate}from'react-router-dom';import{postApiv1}from'../../../api';import*as ACTIONS from'../../../store/actions/index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){var user=useSelector(function(state){return state.user;});var menu=useSelector(function(state){return state.menu;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var navigate=useNavigate();var dispatch=useDispatch();useEffect(function(){dispatch(ACTIONS.getUser());},[dispatch]);var handleSignUp=function handleSignUp(){postApiv1(\"auth/logout\").then(function(result){localStorage.removeItem(\"access_token\");navigate(\"/\");});};var level1=[];var level2=[];var getMenu=function getMenu(){// lấy menu level1\nmenu.forEach(function(item){if(item.Parent===\"0\"){level1.push({Id:item.ID,Name:item.MenuName,Icon:item.Icon,TagCode:item.TagCode});}});// lấy menu level2\nmenu.forEach(function(item){level1.forEach(function(item1){if(item.Parent===item1.Id){level2.push({Id:item.ID,Name:item.MenuName,Icon:item.Icon,Parent:item.Parent,TagCode:item.TagCode,TagName:item.TagName});}});});};getMenu();var getLevel=function getLevel(FrmCode){if(FrmCode===null){return/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-angle-down\"})]});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"nav\",children:[/*#__PURE__*/_jsx(Sidebar,{className:\"nav-header\",visible:visible,onHide:function onHide(){return setVisible(false);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav-menu\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:\"img/logoBitex.png\",width:\"100px\",height:\"100px\",alt:\"logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"menu\",children:level1.map(function(item,index){return/*#__PURE__*/_jsxs(\"li\",{children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:item.Icon}),/*#__PURE__*/_jsx(Link,{to:item.TagCode,children:item.Name}),getLevel(item.TagCode),level2.map(function(item1,index1){if(item1.Parent===item.Id){return/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:item1.TagCode,children:item1.Name})})},index1);}else{return null;}})]},index);})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"otherOption\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user\"}),user[0]?user[0].name:\"\"]}),/*#__PURE__*/_jsxs(\"li\",{onClick:handleSignUp,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-right-to-bracket\"}),\"\\u0110\\u0103ng xu\\u1EA5t\"]})]})]})]})}),/*#__PURE__*/_jsx(Button,{style:styles.menu,icon:\"pi pi-bars\",onClick:function onClick(){return setVisible(true);},outlined:true})]});}export default Header;var styles={menu:{marginLeft:\"5px\"}};","map":{"version":3,"names":["useState","useEffect","Link","useSelector","useDispatch","Sidebar","Button","useNavigate","postApiv1","ACTIONS","Header","user","state","menu","visible","setVisible","navigate","dispatch","getUser","handleSignUp","then","result","localStorage","removeItem","level1","level2","getMenu","forEach","item","Parent","push","Id","ID","Name","MenuName","Icon","TagCode","item1","TagName","getLevel","FrmCode","map","index","index1","name","styles","marginLeft"],"sources":["E:/WebBitex/order-purchasing/src/components/Layout/Header/index.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Sidebar } from 'primereact/sidebar';\r\nimport { Button } from 'primereact/button';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { postApiv1 } from '../../../api';\r\nimport * as ACTIONS from '../../../store/actions/index';\r\n\r\nfunction Header() {\r\n  const user = useSelector((state) => state.user); \r\n  const menu = useSelector((state) => state.menu);\r\n  const [visible, setVisible] = useState(false);\r\n  const navigate = useNavigate();\r\n  \r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(ACTIONS.getUser())\r\n  },[dispatch])\r\n \r\n  const handleSignUp = () => {\r\n    postApiv1(\"auth/logout\").then((result) =>{\r\n      localStorage.removeItem(\"access_token\");\r\n      navigate(\"/\");\r\n    })\r\n  }\r\n  \r\n  var level1 = []\r\n  var level2 = []\r\n  \r\n  const getMenu = () => {\r\n    // lấy menu level1\r\n    menu.forEach(item => {\r\n      if(item.Parent === \"0\"){\r\n        level1.push({Id: item.ID, Name: item.MenuName, Icon: item.Icon, TagCode: item.TagCode})\r\n      }\r\n     });\r\n\r\n     // lấy menu level2\r\n     menu.forEach(item => {\r\n      level1.forEach(item1 => {\r\n        if(item.Parent === item1.Id){\r\n          level2.push({Id: item.ID, Name: item.MenuName, Icon: item.Icon, Parent: item.Parent, TagCode: item.TagCode, TagName: item.TagName})\r\n        }\r\n      });\r\n     });\r\n  }\r\n\r\n  getMenu();\r\n  \r\n  const getLevel = (FrmCode) => {\r\n    if(FrmCode === null){\r\n      return (\r\n        <label>\r\n          <input type=\"checkbox\"/>\r\n          <i className=\"fa-solid fa-angle-down\"></i>\r\n        </label>\r\n        ) \r\n    }\r\n  }\r\n  return ( \r\n    <div className=\"nav\">\r\n      <Sidebar className=\"nav-header\" visible={visible} onHide={() => setVisible(false)} >\r\n        <div className=\"nav-menu\">\r\n          <div className=\"logo\">\r\n            <img src=\"img/logoBitex.png\" width=\"100px\" height=\"100px\" alt=\"logo\"/>\r\n          </div>\r\n          <div className=\"navbar\">\r\n            <ul className=\"menu\">\r\n            { /* menu */ } \r\n            { level1.map((item, index) => {\r\n                return (\r\n                  <li key={index}> <i className={ item.Icon }></i>\r\n                   <Link to={ item.TagCode }>\r\n                      { item.Name }\r\n                   </Link> \r\n                     { getLevel(item.TagCode) }\r\n                      { level2.map((item1, index1) => {\r\n                        if(item1.Parent === item.Id){\r\n                          return (\r\n                            <ul key={index1}>\r\n                                  <li><Link to={ item1.TagCode }>{ item1.Name }</Link></li>\r\n                             </ul>\r\n                          )\r\n                        }else { return null }\r\n                       }) \r\n                       }\r\n                  </li>\r\n                )\r\n            })}\r\n            { /* menu */ }\r\n            </ul>\r\n            <ul className=\"otherOption\">\r\n              <li><i className=\"fa-solid fa-user\"></i>{ user[0] ? user[0].name : \"\" }</li>\r\n              <li onClick={handleSignUp}><i className=\"fa-solid fa-right-to-bracket\"></i>Đăng xuất</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </Sidebar>\r\n      <Button style={styles.menu} icon=\"pi pi-bars\" onClick={() => setVisible(true)} outlined />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\nconst styles = {\r\n  menu:{ marginLeft: \"5px\" }\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}