{"ast":null,"code":"import _toConsumableArray from\"D:/THANH/WedBitex/bitex-front-end/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/THANH/WedBitex/bitex-front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{memo,useState,useEffect}from'react';import{Dialog}from'primereact/dialog';import{DataTable}from'primereact/datatable';import{Column}from'primereact/column';import{Button}from'primereact/button';import{RadioButton}from\"primereact/radiobutton\";import{InputNumber}from'primereact/inputnumber';import{InputTextarea}from'primereact/inputtextarea';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ShowDialog(props){var selectedProducts=props.selectedProducts,setSelectedProducts=props.setSelectedProducts,dialogVisible=props.dialogVisible,description=props.description,handeOpenBillAll=props.handeOpenBillAll,staff=props.staff,handleChangeSelect=props.handleChangeSelect,handleChangeRadio=props.handleChangeRadio,ingredient=props.ingredient,dialogFooterTemplate=props.dialogFooterTemplate,handeCloseBillAll=props.handeCloseBillAll,handleChangeDescription=props.handleChangeDescription;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),total=_useState2[0],setTotal=_useState2[1];useEffect(function(){selectedProducts&&selectedProducts.length>0?setTotal(selectedProducts.reduce(function(sum,current){return sum+Number(current.Quantity);},0)):setTotal(0);},[selectedProducts]);var onRowEditComplete=function onRowEditComplete(e){var _products=_toConsumableArray(selectedProducts);var newData=e.newData,index=e.index;_products[index]=newData;setSelectedProducts(_products);};var priceEditor=function priceEditor(options){return/*#__PURE__*/_jsx(InputNumber,{value:options.value,style:styles.inputNumber,onValueChange:function onValueChange(e){return options.editorCallback(e.value);}});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{style:styles.margin_top,label:\"L\\u1EA5y nhi\\u1EC1u \\u0111\\u01A1n h\\xE0ng\",icon:\"pi pi-external-link\",onClick:function onClick(){return handeOpenBillAll();}}),/*#__PURE__*/_jsxs(Dialog,{style:styles.text,header:\"\\u0110\\u01A1n h\\xE0ng \\u0111\\xE3 ch\\u1ECDn\",visible:dialogVisible,maximizable:true,modal:true,contentStyle:{height:'300px'},onHide:function onHide(){return handeCloseBillAll();},footer:dialogFooterTemplate,children:[/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",style:styles.margin_top,onChange:handleChangeSelect,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Ch\\u1ECDn nh\\xE2n vi\\xEAn giao h\\xE0ng\"}),staff&&staff.length>0?staff.map(function(item,index){return/*#__PURE__*/_jsxs(\"option\",{value:item.CODE,children:[item.CODE,\" - \",item.NAME]},index);}):\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex align-items-center\",style:styles.radio,children:[/*#__PURE__*/_jsx(RadioButton,{inputId:\"ingredient1\",name:\"pizza\",value:\"1\",onChange:handleChangeRadio,checked:ingredient==='1'}),/*#__PURE__*/_jsx(\"label\",{style:styles.label,htmlFor:\"ingredient1\",className:\"ml-2\",children:\"Xe m\\xE1y\"}),/*#__PURE__*/_jsx(RadioButton,{inputId:\"ingredient2\",name:\"pizza\",value:\"2\",onChange:handleChangeRadio,checked:ingredient==='2'}),/*#__PURE__*/_jsx(\"label\",{style:styles.label,htmlFor:\"ingredient2\",className:\"ml-2\",children:\"Xe \\xF4 t\\xF4\"})]}),/*#__PURE__*/_jsx(\"label\",{style:styles.text,htmlFor:\"description\",children:\"Ghi ch\\xFA\"}),/*#__PURE__*/_jsx(InputTextarea,{style:styles.text,rows:2,cols:30,value:description,onChange:handleChangeDescription}),/*#__PURE__*/_jsxs(\"span\",{style:styles.spanE,children:[\" T\\u1ED5ng s\\u1ED1 ki\\u1EC7n: \",total]}),/*#__PURE__*/_jsxs(DataTable,{value:selectedProducts,editMode:\"row\",scrollable:true,scrollHeight:\"flex\",style:styles.dataTable,onRowEditComplete:onRowEditComplete,children:[/*#__PURE__*/_jsx(Column,{field:\"Number\",header:\"S\\u1ED1 h\\xF3a \\u0111\\u01A1n\",style:{width:'15%'}}),/*#__PURE__*/_jsx(Column,{field:\"CustomerName\",header:\"T\\xEAn kh\\xE1ch h\\xE0ng\",style:{width:'60%'}}),/*#__PURE__*/_jsx(Column,{field:\"Quantity\",header:\"S\\u1ED1 ki\\u1EC7n\",editor:function editor(options){return priceEditor(options);},style:{width:'20%'}}),/*#__PURE__*/_jsx(Column,{header:\"Thao t\\xE1c\",rowEditor:true,headerStyle:{width:'5%',minWidth:'8rem'},bodyStyle:{textAlign:'center'}})]})]})]});}export default/*#__PURE__*/memo(ShowDialog);var styles={margin_top:{marginTop:\"10px\",fontFamily:\"Times New Roman\"},dataTable:{fontFamily:\"Times New Roman\"},text:{fontFamily:\"Times New Roman\",fontWeight:500},radio:{fontFamily:\"Times New Roman\",fontWeight:500,margin:\"15px 0px 30px\"},label:{margin:\"0px 10px 0px\"},spanE:{fontFamily:\"Times New Roman\",fontWeight:900,color:\"#008080\"},inputNumber:{width:\"50px\"}};","map":{"version":3,"names":["memo","useState","useEffect","Dialog","DataTable","Column","Button","RadioButton","InputNumber","InputTextarea","ShowDialog","props","selectedProducts","setSelectedProducts","dialogVisible","description","handeOpenBillAll","staff","handleChangeSelect","handleChangeRadio","ingredient","dialogFooterTemplate","handeCloseBillAll","handleChangeDescription","total","setTotal","length","reduce","sum","current","Number","Quantity","onRowEditComplete","e","_products","newData","index","priceEditor","options","value","styles","inputNumber","editorCallback","margin_top","text","height","map","item","CODE","NAME","radio","label","spanE","dataTable","width","minWidth","textAlign","marginTop","fontFamily","fontWeight","margin","color"],"sources":["D:/THANH/WedBitex/bitex-front-end/src/pages/Bill/dialog.js"],"sourcesContent":["import { memo, useState, useEffect } from 'react';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { RadioButton } from \"primereact/radiobutton\";\r\nimport { InputNumber } from 'primereact/inputnumber';\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\n\r\nfunction ShowDialog( props ) {\r\n const { selectedProducts, setSelectedProducts, dialogVisible, description, handeOpenBillAll, staff, handleChangeSelect, handleChangeRadio, ingredient, dialogFooterTemplate, handeCloseBillAll, handleChangeDescription } = props;\r\n const [total, setTotal] = useState(0);\r\n \r\n  useEffect(() => {\r\n    selectedProducts && selectedProducts.length >0  ?\r\n    setTotal(selectedProducts.reduce((sum, current) => sum + Number(current.Quantity), 0)) : setTotal(0)\r\n }, [selectedProducts])\r\n\r\n const onRowEditComplete = (e) => {\r\n  let _products = [...selectedProducts];\r\n  let { newData, index } = e;\r\n  _products[index] = newData;\r\n  setSelectedProducts(_products);\r\n };\r\n \r\n const priceEditor = (options) => {\r\n  return <InputNumber value={options.value} style={styles.inputNumber} onValueChange={(e) => options.editorCallback(e.value)} />;\r\n };\r\n    return (\r\n     <>\r\n     <Button style={styles.margin_top} label=\"Lấy nhiều đơn hàng\" icon=\"pi pi-external-link\" onClick={ () => handeOpenBillAll()} />\r\n     <Dialog style={styles.text} header=\"Đơn hàng đã chọn\" visible={dialogVisible} maximizable\r\n                   modal contentStyle={{ height: '300px' }} onHide={() => handeCloseBillAll()} footer={dialogFooterTemplate}>\r\n        <select className=\"form-select\" style={styles.margin_top} onChange ={ handleChangeSelect }>\r\n           <option value=\"\">Chọn nhân viên giao hàng</option>\r\n           { staff && staff.length>0  ? \r\n              staff.map((item, index) => { return ( <option key={index} value={item.CODE}>{item.CODE} - {item.NAME}</option>) }) : \"\" }\r\n        </select>\r\n        <div className=\"flex align-items-center\" style={styles.radio}>\r\n          <RadioButton inputId=\"ingredient1\" name=\"pizza\" value=\"1\" onChange={ handleChangeRadio } checked={ingredient === '1'} />\r\n            <label style={styles.label} htmlFor=\"ingredient1\" className=\"ml-2\">Xe máy</label>\r\n           <RadioButton inputId=\"ingredient2\" name=\"pizza\" value=\"2\" onChange={ handleChangeRadio } checked={ingredient === '2'} />\r\n            <label style={styles.label} htmlFor=\"ingredient2\" className=\"ml-2\">Xe ô tô</label>\r\n        </div>\r\n        <label style={styles.text} htmlFor=\"description\">Ghi chú</label>\r\n        <InputTextarea style={styles.text} rows={2} cols={30} value ={ description } onChange = { handleChangeDescription }/>\r\n        <span style={styles.spanE}> Tổng số kiện: { total  }</span>\r\n        <DataTable value={selectedProducts} editMode=\"row\" scrollable scrollHeight=\"flex\" style={styles.dataTable} onRowEditComplete={onRowEditComplete}>\r\n          <Column field=\"Number\" header=\"Số hóa đơn\" style={{ width: '15%' }}></Column>\r\n          <Column field=\"CustomerName\" header=\"Tên khách hàng\" style={{ width: '60%' }}></Column>\r\n          <Column field=\"Quantity\" header=\"Số kiện\" editor={(options) => priceEditor(options)} style={{ width: '20%' }}></Column>\r\n          <Column header=\"Thao tác\" rowEditor headerStyle={{ width: '5%', minWidth: '8rem' }} bodyStyle={{ textAlign: 'center' }}></Column>\r\n        </DataTable>\r\n     </Dialog>\r\n     </>\r\n    )\r\n}\r\n\r\nexport default memo(ShowDialog);\r\n\r\nconst styles = {\r\n margin_top:{\r\n     marginTop:\"10px\",\r\n     fontFamily:\"Times New Roman\"\r\n },\r\n dataTable:{\r\n     fontFamily:\"Times New Roman\"\r\n },\r\n    text : {\r\n      fontFamily:\"Times New Roman\",\r\n      fontWeight: 500\r\n    },\r\n    radio : {\r\n      fontFamily:\"Times New Roman\",\r\n      fontWeight: 500,\r\n      margin:\"15px 0px 30px\"\r\n    },\r\n    label : {\r\n      margin:\"0px 10px 0px\"\r\n    } ,\r\n    spanE : {\r\n      fontFamily:\"Times New Roman\",\r\n      fontWeight: 900,\r\n      color: \"#008080\"\r\n    },\r\n    inputNumber:{\r\n      width: \"50px\"\r\n    }\r\n\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}