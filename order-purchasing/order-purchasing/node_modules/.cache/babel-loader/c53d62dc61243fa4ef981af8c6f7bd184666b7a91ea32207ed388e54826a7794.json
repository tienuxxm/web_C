{"ast":null,"code":"import _regeneratorRuntime from\"E:/WebBitex/order-purchasing/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/WebBitex/order-purchasing/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';var API_URL='http://171.244.205.210:8500/app/api/';var token=localStorage.getItem('access_token');var config={headers:{Accept:'application/json',Authorization:\"Bearer \".concat(token?token.slice(1,-1):\"\")}};export var getApi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(endpoint){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(API_URL).concat(endpoint),config);case 3:res=_context.sent;return _context.abrupt(\"return\",res.data);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(\"Error API\",_context.t0.message);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function getApi(_x){return _ref.apply(this,arguments);};}();export var postApi=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(endpoint,data){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios({method:'POST',url:\"\".concat(API_URL).concat(endpoint),data:data,headers:{Accept:'text/html, application/json, text/plain, */*'}});case 3:res=_context2.sent;return _context2.abrupt(\"return\",res.data);case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(\"Error API\",_context2.t0.message);case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function postApi(_x2,_x3){return _ref2.apply(this,arguments);};}();export var postApiv1=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(endpoint,data){var res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios({method:'POST',url:\"\".concat(API_URL).concat(endpoint),data:data,headers:{Accept:'application/json',Authorization:\"Bearer \".concat(token?token.slice(1,-1):\"\")}});case 3:res=_context3.sent;return _context3.abrupt(\"return\",res.data);case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.log(\"Error API\",_context3.t0.message);case 10:case\"end\":return _context3.stop();}},_callee3,null,[[0,7]]);}));return function postApiv1(_x4,_x5){return _ref3.apply(this,arguments);};}();axios.interceptors.response.use(function(response){return response;},function(error){var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){localStorage.clear();window.location.href='/';}return Promise.reject(error);});","map":{"version":3,"names":["axios","API_URL","token","localStorage","getItem","config","headers","Accept","Authorization","slice","getApi","endpoint","get","res","data","console","log","message","postApi","method","url","postApiv1","interceptors","response","use","error","status","clear","window","location","href","Promise","reject"],"sources":["E:/WebBitex/order-purchasing/src/api/index.js"],"sourcesContent":["import axios from 'axios';\nconst API_URL='http://171.244.205.210:8500/app/api/';\nconst token = localStorage.getItem('access_token');\n\nconst config = {\n  headers: {\n    Accept: 'application/json',\n    Authorization: `Bearer ${token ?  token.slice(1, -1) : \"\"}`,\n  }\n};\n\nexport const getApi = async (endpoint) => {\n  try {\n    const res = await axios.get(`${API_URL}${endpoint}`, config);\n    return res.data\n  } catch (error){\n    console.log(\"Error API\", error.message)\n  }\n};\n\nexport const postApi = async (endpoint, data) => {\n  try {\n    let res = await axios({ method: 'POST'\n                          , url:`${API_URL}${endpoint}`\n                          , data: data\n                          , headers: { Accept: 'text/html, application/json, text/plain, */*' }}) \n    return res.data\n  } catch (error) {\n    console.log(\"Error API\", error.message);\n  }\n};\n\nexport const postApiv1 = async (endpoint, data) => {\n  try {\n    let res = await axios({ method: 'POST'\n                          , url:`${API_URL}${endpoint}`\n                          , data: data\n                          , headers: { Accept: 'application/json', Authorization: `Bearer ${token ?  token.slice(1, -1) : \"\"}`,}\n                          }) \n    return res.data\n  } catch (error) {\n    console.log(\"Error API\", error.message);\n  }\n};\n\naxios.interceptors.response.use(\n  response => response,\n  error => {\n    if (error.response?.status === 401) {\n      localStorage.clear();\n      window.location.href = '/';\n    }\n    return Promise.reject(error);\n  }\n);\n"],"mappings":"oPAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,GAAMC,QAAO,CAAC,sCAAsC,CACpD,GAAMC,MAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAElD,GAAMC,OAAM,CAAG,CACbC,OAAO,CAAE,CACPC,MAAM,CAAE,kBAAkB,CAC1BC,aAAa,kBAAYN,KAAK,CAAIA,KAAK,CAACO,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CAAG,EAAE,CAC3D,CACF,CAAC,CAED,MAAO,IAAMC,OAAM,4FAAG,iBAAOC,QAAQ,iKAEfX,MAAK,CAACY,GAAG,WAAIX,OAAO,SAAGU,QAAQ,EAAIN,MAAM,CAAC,QAAtDQ,GAAG,+CACFA,GAAG,CAACC,IAAI,0DAEfC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAE,YAAMC,OAAO,CAAC,oEAE1C,kBAPYP,OAAM,4CAOlB,CAED,MAAO,IAAMQ,QAAO,6FAAG,kBAAOP,QAAQ,CAAEG,IAAI,uKAExBd,MAAK,CAAC,CAAEmB,MAAM,CAAE,MAAM,CACdC,GAAG,WAAInB,OAAO,SAAGU,QAAQ,CAAE,CAC3BG,IAAI,CAAEA,IAAI,CACVR,OAAO,CAAE,CAAEC,MAAM,CAAE,8CAA+C,CAAC,CAAC,CAAC,QAHzFM,GAAG,iDAIAA,GAAG,CAACC,IAAI,6DAEfC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAE,aAAMC,OAAO,CAAC,CAAC,qEAE3C,kBAVYC,QAAO,kDAUnB,CAED,MAAO,IAAMG,UAAS,6FAAG,kBAAOV,QAAQ,CAAEG,IAAI,uKAE1Bd,MAAK,CAAC,CAAEmB,MAAM,CAAE,MAAM,CACdC,GAAG,WAAInB,OAAO,SAAGU,QAAQ,CAAE,CAC3BG,IAAI,CAAEA,IAAI,CACVR,OAAO,CAAE,CAAEC,MAAM,CAAE,kBAAkB,CAAEC,aAAa,kBAAYN,KAAK,CAAIA,KAAK,CAACO,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CAAG,EAAE,CAAG,CACrG,CAAC,CAAC,QAJpBI,GAAG,iDAKAA,GAAG,CAACC,IAAI,6DAEfC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAE,aAAMC,OAAO,CAAC,CAAC,qEAE3C,kBAXYI,UAAS,kDAWrB,CAEDrB,KAAK,CAACsB,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC7B,SAAAD,QAAQ,QAAIA,SAAQ,GACpB,SAAAE,KAAK,CAAI,qBACP,GAAI,kBAAAA,KAAK,CAACF,QAAQ,0CAAd,gBAAgBG,MAAM,IAAK,GAAG,CAAE,CAClCvB,YAAY,CAACwB,KAAK,EAAE,CACpBC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,GAAG,CAC5B,CACA,MAAOC,QAAO,CAACC,MAAM,CAACP,KAAK,CAAC,CAC9B,CAAC,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}