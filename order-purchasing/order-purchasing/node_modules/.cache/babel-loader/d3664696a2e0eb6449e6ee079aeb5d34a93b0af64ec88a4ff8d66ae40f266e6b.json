{"ast":null,"code":"import _slicedToArray from\"E:/WebBitex/bitex-front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link}from\"react-router-dom\";import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{Sidebar}from'primereact/sidebar';import{Button}from'primereact/button';import{useNavigate}from'react-router-dom';import{getApi}from'../../../api';import*as ACTIONS from'../../../store/actions/index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){var user=useSelector(function(state){return state.user;});var menu=useSelector(function(state){return state.menu;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var navigate=useNavigate();var dispatch=useDispatch();useEffect(function(){dispatch(ACTIONS.getUser());dispatch(ACTIONS.getMenu());},[dispatch]);var level1=[];var level2=[];var getMenu=function getMenu(){// lấy menu level1\nmenu.forEach(function(item){if(item.Parent===\"0\"){level1.push({Id:item.ID,Name:item.MenuName,Icon:item.Icon,TagCode:item.TagCode});}});// lấy menu level2\nmenu.forEach(function(item){level1.forEach(function(item1){if(item.Parent===item1.Id){level2.push({Id:item.ID,Name:item.MenuName,Icon:item.Icon,Parent:item.Parent,TagCode:item.TagCode,TagName:item.TagName});}});});};getMenu();var getLevel=function getLevel(FrmCode){if(FrmCode===null){return/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-angle-down\"})]});}};var handleSignUp=function handleSignUp(){getApi(\"logout\").then(function(result){console.log(result.message);});localStorage.removeItem(\"access_token\");navigate(\"/\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"nav\",children:[/*#__PURE__*/_jsx(Sidebar,{className:\"nav-header\",visible:visible,onHide:function onHide(){return setVisible(false);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav-menu\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:\"img/logoBitex.png\",width:\"100px\",height:\"100px\",alt:\"logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"menu\",children:level1.map(function(item,index){return/*#__PURE__*/_jsxs(\"li\",{children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:item.Icon}),/*#__PURE__*/_jsx(Link,{to:item.TagCode,children:item.Name}),getLevel(item.TagCode),level2.map(function(item1,index1){if(item1.Parent===item.Id){return/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:item1.TagCode,children:item1.Name})})},index1);}else{return null;}})]},index);})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"otherOption\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user\"}),user?user:\"\"]}),/*#__PURE__*/_jsxs(\"li\",{onClick:handleSignUp,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-right-to-bracket\"}),\"\\u0110\\u0103ng xu\\u1EA5t\"]})]})]})]})}),/*#__PURE__*/_jsx(Button,{style:styles.menu,icon:\"pi pi-bars\",onClick:function onClick(){return setVisible(true);},outlined:true})]});}export default Header;var styles={menu:{marginLeft:\"5px\"}};","map":{"version":3,"names":["Link","React","useState","useEffect","useSelector","useDispatch","Sidebar","Button","useNavigate","getApi","ACTIONS","Header","user","state","menu","visible","setVisible","navigate","dispatch","getUser","getMenu","level1","level2","forEach","item","Parent","push","Id","ID","Name","MenuName","Icon","TagCode","item1","TagName","getLevel","FrmCode","handleSignUp","then","result","console","log","message","localStorage","removeItem","map","index","index1","styles","marginLeft"],"sources":["E:/WebBitex/bitex-front-end/src/components/Layout/Header/index.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Sidebar } from 'primereact/sidebar';\r\nimport { Button } from 'primereact/button';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getApi } from '../../../api';\r\nimport * as ACTIONS from '../../../store/actions/index';\r\n\r\nfunction Header() {\r\n  const user = useSelector((state) => state.user); \r\n  const menu = useSelector((state) => state.menu); \r\n  const [visible, setVisible] = useState(false);\r\n  const navigate = useNavigate();\r\n  \r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(ACTIONS.getUser())  \r\n    dispatch(ACTIONS.getMenu()) \r\n  },[dispatch])\r\n  \r\n  var level1 = []\r\n  var level2 = []\r\n  \r\n  const getMenu = () => {\r\n    // lấy menu level1\r\n    menu.forEach(item => {\r\n      if(item.Parent === \"0\"){\r\n        level1.push({Id: item.ID, Name: item.MenuName, Icon: item.Icon, TagCode: item.TagCode})\r\n      }\r\n     });\r\n\r\n     // lấy menu level2\r\n     menu.forEach(item => {\r\n      level1.forEach(item1 => {\r\n        if(item.Parent === item1.Id){\r\n          level2.push({Id: item.ID, Name: item.MenuName, Icon: item.Icon, Parent: item.Parent, TagCode: item.TagCode, TagName: item.TagName})\r\n        }\r\n      });\r\n     });\r\n  }\r\n\r\n  getMenu();\r\n  \r\n  const getLevel = (FrmCode) => {\r\n    if(FrmCode === null){\r\n      return (\r\n        <label>\r\n          <input type=\"checkbox\"/>\r\n          <i className=\"fa-solid fa-angle-down\"></i>\r\n        </label>\r\n        ) \r\n    }\r\n  }\r\n\r\n  const handleSignUp = () => {\r\n    getApi(\"logout\").then((result) =>{\r\n      console.log(result.message);\r\n    })\r\n    localStorage.removeItem(\"access_token\");\r\n    navigate(\"/\");\r\n  }\r\n  \r\n  return ( \r\n    <div className=\"nav\">\r\n    <Sidebar className=\"nav-header\" visible={visible} onHide={() => setVisible(false)} >\r\n        <div className=\"nav-menu\">\r\n          <div className=\"logo\">\r\n            <img src=\"img/logoBitex.png\" width=\"100px\" height=\"100px\" alt=\"logo\"/>\r\n          </div>\r\n       <div className=\"navbar\">\r\n        <ul className=\"menu\">\r\n          { /* menu */ } \r\n            { level1.map((item, index) => {\r\n                return (\r\n                  <li key={index}> <i className={ item.Icon }></i>\r\n                   <Link to={ item.TagCode }>\r\n                      { item.Name }\r\n                   </Link> \r\n                     { getLevel(item.TagCode) }\r\n                      { level2.map((item1, index1) => {\r\n                        if(item1.Parent === item.Id){\r\n                          return (\r\n                            <ul key={index1}>\r\n                                  <li><Link to={ item1.TagCode }>{ item1.Name }</Link></li>\r\n                             </ul>\r\n                          )\r\n                        }else { return null }\r\n                       }) \r\n                       }\r\n                  </li>\r\n                )\r\n            })}\r\n            { /* menu */ }\r\n            {/* <li> <i className=\"fa-solid fa-list-ul\"></i><Link to=\"/\">Thuế</Link></li> */}\r\n        </ul>\r\n        <ul className=\"otherOption\">\r\n            <li><i className=\"fa-solid fa-user\"></i>{ user ? user : \"\" }</li>\r\n            <li onClick={handleSignUp}><i className=\"fa-solid fa-right-to-bracket\"></i>Đăng xuất</li>\r\n        </ul>\r\n       </div>\r\n        </div>\r\n    </Sidebar>\r\n    <Button style={styles.menu} icon=\"pi pi-bars\" onClick={() => setVisible(true)} outlined />\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n\r\nconst styles = {\r\n  menu:{ marginLeft: \"5px\" }\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}